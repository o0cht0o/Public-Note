# 问题描述
本文针[ShaderToy](www.shadertoy.com/view/msjfWG)上的鼠标控制做一些旋转推导。
当鼠标从 $P_1$ 移动到 $P_2$ 时，对于单位圆上向量 $V_1$ 旋转到 $V_2$ 位置，求旋转矩阵 $R$ ，使得 $V_2=R V_1$ 。
#
令旋转角度为 $\theta$ ，则$$\cos \theta = V_1 \cdot V_2$$
旋转轴为 $$A = \frac{ V_1 \times V_2}{\sin \theta} = \mathrm{normalize} ( V_1 \times V_2)$$
对于任意向量 $V$ ，其 $A$ 向分量为$$V_A=(V \cdot A)A$$
其余分量为 $$V_r = V - V_A = V - (V \cdot A) A$$
$V_r$ 若延 $A$ 轴旋转90° $$V_t = A \times V$$
最后得到的向量 $$\begin{array}{rl} 
  V' &= V_A + V_r \cos \theta + V_t \sin \theta \\
&= (V \cdot A)A + [V - (V \cdot A) A] \cos \theta +A \times V \sin \theta \\
&= V \cos \theta + (V \cdot A) A (1 - \cos \theta) +  V_1 \times V_2 \times V
\end{array}$$

> Written with [StackEdit](https://stackedit.io/).
<!--stackedit_data:
eyJoaXN0b3J5IjpbNDc1NzM1MjQzXX0=
-->